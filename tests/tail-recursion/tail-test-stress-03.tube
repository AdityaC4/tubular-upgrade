// Stress Test 3: Complex Mathematical Tail Recursion
// Goal: Test tail recursion optimization with complex calculations per call
// This should show performance benefits when tail recursion is converted to iteration

function power_tail(int base, int exp, int acc) : int {
  if (exp == 0) return acc;
  
  // Complex mathematical operations per recursive call
  int temp1 = base * base + exp;
  int temp2 = temp1 * acc + base;
  int temp3 = temp2 / 2 + exp;
  int temp4 = temp3 * temp3 + acc;
  int new_acc = temp4 * base;
  
  return power_tail(base, exp - 1, new_acc);
}

function main() : int {
  return power_tail(2, 10000, 1); // 10K levels with complex math
}
